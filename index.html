<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>My Goal Tracker</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/easymde/dist/easymde.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/easymde/dist/easymde.min.js"></script>
</head>
<body class="bg-dark text-light">
<div class="container py-5">

  <!-- LOGIN -->
  <div id="login-section" class="text-center">
    <h2 class="mb-4">Please Login</h2>
    <input id="email" type="email" class="form-control mb-2" placeholder="Email">
    <input id="password" type="password" class="form-control mb-2" placeholder="Password">
    <button id="login-btn" class="btn btn-primary w-100 mb-3">Login</button>
    <div id="login-error" class="text-danger"></div>
  </div>

  <!-- APP -->
  <div id="app-section" class="d-none">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2>My Goals</h2>
      <button id="logout-btn" class="btn btn-outline-light">Logout</button>
    </div>

    <!-- Filters & Sorting -->
    <div class="d-flex mb-3 gap-2">
      <select id="filter-select" class="form-select w-auto btn-outline-dim">
        <option value="all">All Statuses</option>
        <option value="in_progress">In Progress</option>
        <option value="completed">Completed</option>
      </select>
      <select id="sort-select" class="form-select w-auto btn-outline-dim">
        <option value="updatedAt_desc">Newest First</option>
        <option value="updatedAt_asc">Oldest First</option>
        <option value="title_asc">Title A–Z</option>
        <option value="title_desc">Title Z–A</option>
      </select>
    </div>

    <!-- Goal List -->
    <div id="goal-list" class="list-group mb-4"></div>
    <div id="loading" class="text-center text-muted">Loading...</div>

    <!-- Add/Edit Form -->
    <div class="card bg-secondary text-light p-3 mb-5">
      <h4 id="form-title">Add New Goal</h4>
      <input id="new-goal-title" class="form-control mb-2" placeholder="Title">
      <textarea id="new-goal-desc" class="form-control mb-2" rows="2" placeholder="Description"></textarea>
      <input id="new-goal-category" class="form-control mb-2" placeholder="Category/Tag">
      <input id="new-goal-progress" type="number" min="0" max="100" class="form-control mb-2" placeholder="Progress (%)">
      <h6>Complete By:</h6>
      <div class="d-flex gap-2">
        <button id="add-goal-btn" class="btn btn-success">Add Goal</button>
        <button id="cancel-edit-btn" class="btn btn-warning d-none">Cancel Edit</button>
      </div>
      <div id="form-error" class="text-warning mt-2"></div>
    </div>
  </div>
</div>

<!-- Firebase + Scripts -->
<script src="https://www.gstatic.com/firebasejs/11.10.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.10.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore-compat.js"></script>
<script src="firebase-config.js"></script>
<script src="app.js"></script>
</body>
</html>
